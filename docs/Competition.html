<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Exercise: Competition</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Ecology Course</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exercises
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./PopulationDynamics.html">1. Excercise: Population Dynamics</a>
    </li>
    <li>
      <a href="./Demography.html">2. Excercise: Demography I</a>
    </li>
    <li>
      <a href="./Demography2.html">3. Excercise: Demography II</a>
    </li>
    <li>
      <a href="./StructuredPopulations.html">4. Excercise: Structured Populations</a>
    </li>
    <li>
      <a href="./Competition.html">5. Excercise: Competition</a>
    </li>
    <li>
      <a href="./PredatorPrey.html">6. Excercise: Predator-Prey Interactions</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<div id="exercise-competition" class="section level1 tabset">
<h1 class="tabset">Exercise: Competition</h1>
<div id="lv-in-discrete-time" class="section level2">
<h2>LV in discrete time</h2>
<p>The Lotka-Volterra competition model in discrete time can be written as the following system of two difference equations: <span class="math display">\[
\begin{align}
N_1(t+1)&amp;=N_1(t)+N_1(t)r_1\bigg(1-\frac{N_1(t)+\alpha N_2(t)}{K_1}\bigg)\\
N_2(t+1)&amp;=N_2(t)+N_2(t)r_2\bigg(1-\frac{N_2(t)+\beta N_1(t)}{K_2}\bigg)
\end{align}
\]</span></p>
<p>In this exercise, you will investigate the behavior of this Lotka-Volterra competition model by iterating this system of equations. To do this, we first define a function that describes how the population size of two competing species one time step in the future depends on their population sizes at the current time step.</p>
<pre class="r"><code>LVcomp &lt;- function(N, r1, r2, K1, K2, alpha, beta) {
  N1.t1 &lt;- N[1] + r1 * N[1] * (1 - (N[1] + alpha * N[2])/K1)
  N2.t1 &lt;- N[2] + r2 * N[2] * (1 - (N[2] + beta * N[1])/K2)
  c(N1.t1, N2.t1)
}</code></pre>
<p>This user-defined function has seven arguments. The first is the two-dimensional population vector <code>N</code>, then comes the intrinsic growth rates, the carrying capacities, and the competition coefficients for the each species. In the next code-block, all parameter values and the initial population size vector <code>N.0</code> specifying the initial densities for the two species are determined.</p>
<p>The following code produces the time series for the two competing species. We use code that you have seen in a similar way in previous exercises. First, we create an empty data frame, called <code>N</code>, in which we store the time series. It has two columns, one for each species, and t+1 rows, one row for the initial population vector, and t rows for the future population vectors.</p>
<pre class="r"><code>t &lt;- 50 # we set the length of the time series, which determines the number of rows in the data frame
N &lt;- data.frame(Species1=rep(NA, t+1), Species2=rep(NA, t+1))</code></pre>
<p>Let us define an initial population vector at time <span class="math inline">\(t=0\)</span> and store it in the first row of the data frame.</p>
<pre class="r"><code>N0 &lt;- c(5, 20)
N[1, ] &lt;- N0 # we store the initial population vector in the first row</code></pre>
<p>Next, we use a for-loop to iterate the time series. In each iteration of the for-loop we use the function <code>LVcomp</code> to produce the population vector at the next time step and store the outcome in a new row in the data frame <code>N</code>. Note, that in this example we use the following parameters: <code>r1=.9, r2=.9, K1=100, K2=100, alpha=0.8, beta=0.9</code>.</p>
<pre class="r"><code>for (i in 1:t){
  N[i + 1, ] &lt;- LVcomp(N[i, ], r1=.9, r2=.9, K1=100, K2=100, alpha=0.8, beta=0.9)
  } # this for-loop iterates the population dynamics t-times

head(N) # let&#39;s have a sneak peak at the data frame, just to make sure that everything went correctly</code></pre>
<pre><code>##   Species1 Species2
## 1  5.00000 20.00000
## 2  8.55500 33.59000
## 3 13.52680 51.33877
## 4 19.05411 68.19760
## 5 23.57928 77.19172
## 6 26.69189 78.29420</code></pre>
<p>Finally, let us plot the time series. To plot the columns in a data frame as separate lines, we can use the function <code>matplot</code>.</p>
<pre class="r"><code>matplot(0:t, N, type = &quot;p&quot;, pch = c(1,16), lty = 1:2, col = 1, ylim = c(0, 90), ylab=&quot;Number of individuals&quot;, xlab=&quot;Time&quot;)
legend(&quot;top&quot;, c(expression(&quot;species 1 &quot;), expression(&quot;species 2 &quot;)), pch = c(1,16), bty = &quot;n&quot;)</code></pre>
<p><img src="Competition_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="logistic-growth-in-discrete-time" class="section level2">
<h2>Logistic growth in discrete time</h2>
<p>Before we actually look at competition between two species, let us go back one step. We can use the above code to investigate the population dynamics of a single species that growths according to logistic growth in <em>discrete time</em>. Recall the lecture about the discrete time logistic model. <em>All that we have to do for that is to set the initial population size of one species, say species 2, equal to zero, that is <span class="math inline">\(N_2(t=0)=0\)</span></em>. This works because in a population without immigration and emigration, a species that is not present at the beginning will never be present, and the model behaves exactly as a single species model.</p>
<p>Here, you can see the population dynamics as resulting from the above parameter values. The plot also contains a horizontal line indicating the value of the carrying capacity of species 1.</p>
<pre class="r"><code>t &lt;- 50 # we set the length of the time series, which determines the number of rows in the data frame
N &lt;- data.frame(Species1=rep(NA, t+1), Species2=rep(NA, t+1)) # empty data frame
N0 &lt;- c(10, 0) # starting population vector; note that we set N2=0!
N[1, ] &lt;- N0 # we store the initial population vector in the first row

for (i in 1:t){
  N[i + 1, ] &lt;- LVcomp(N[i, ], r1=0.9, r2=0.9, K1=100, K2=100, alpha=0.8, beta=0.9)
  } # this for-loop iterates the population dynamics t-times

# let&#39;s plot the time series
matplot(0:t, N, type = &quot;p&quot;, pch =c(1,16), col = 1, ylim = c(0, 120), ylab=&quot;Number of individuals&quot;, xlab=&quot;Time&quot;)
abline(h = 100, lty = 3) # plots a horizontal line indicating the carrying capacity of species 1
legend(&quot;top&quot;, c(expression(&quot;species1 &quot;), expression(&quot;species2&quot;)), pch =c(1,16), bty = &quot;n&quot;)</code></pre>
<p><img src="Competition_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Vary the intrinsic growth rate <code>r1</code> to investigate the effect this has on the population dynamics. For example, you could try the values <code>r1=0.5, 0.9, 1.5, 1.9, 2.1, 2.4, 2.5, 2.6</code>. What do you observe? Feel free to choose additional values to complete your understanding.</p>
<p>Does the behavior you observe change when you alter (i) the value of the carrying capacity <em>K</em> or (ii) the initial population size at time zero?</p>
<pre class="r"><code>t &lt;- 50
N &lt;- data.frame(Species1=rep(NA, t+1), Species2=rep(NA, t+1))
N0 &lt;- c(10, 0)
N[1, ] &lt;- N0

N &lt;- matrix(NA, nrow = t + 1, ncol = 2)
N[1, ] &lt;- N0

for (i in 1:t){
  N[i + 1, ] &lt;- LVcomp(N[i, ], r1=0.5, r2=0.9, K1=100, K2=100, alpha=0.8, beta=0.9)
  }

N.r.0p5 &lt;- N # here, we assign the matrix that contains the data for the new r-value to a new object, called N.r.0p5. When we plot the data with the following command, we have to change the name of the matrix there accordingly.

matplot(0:t, N.r.0p5, type = &quot;p&quot;, pch =c(1,16), col = 1, ylim = c(0, 120), ylab=&quot;Number of individuals&quot;, xlab=&quot;Time&quot;)
abline(h = 100, lty = 3) # plots a line indicating the carrying capacity of species 1
legend(&quot;top&quot;, c(expression(&quot;species1 &quot;), expression(&quot;species2&quot;)), pch =c(1,16), bty = &quot;n&quot;)</code></pre>
<p><img src="Competition_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>In the above code, we assigned the matrix that contains the data for the new <em>r</em>-value to a new object, called <code>N.r.0p5</code> (reminding us that the <em>r</em>-value equals 0.5 in this run). When we plot the data we have to change the name of the matrix in the plotting command accordingly. In this way, it is possible to always evaluate the same piece of code after a parameter value has been changed but simultaneously keeping the results in different data frames.</p>
</div>
<div id="competition-between-two-species" class="section level2">
<h2>Competition between two species</h2>
<p>In order to investigate competition between two species, both species need to have a non-zero density at <em>t=0</em>. Thus, in this tab you have to choose a starting vector lines this one, <code>N0 &lt;- c(10, 10)</code>, where both densities are different from zero.</p>
<p>In this part of the exercise, you investigate the effect of the various parameters on the <em>outcome of competition</em> between two species. Specifically, investigate the following questions.</p>
<ol style="list-style-type: decimal">
<li><p>First focus on the case that both carrying capacities are equal, <code>K1=K2</code>, and that the intrinsic growth rates are relatively small, say, <code>r1 &lt; 1</code> and <code>r2 &lt; 1</code>. Under this scenario, look at the following cases: <span class="math display">\[
\begin{align}
  \mathrm{i)\,\,} &amp; \alpha&lt;1&lt;\beta\\
  \mathrm{ii)\,\,} &amp; \alpha&gt;1&gt;\beta\\
  \mathrm{iii)\,\,} &amp; 1&lt;\alpha, \beta\\
  \mathrm{iv)\,\,} &amp; \alpha, \beta&lt;1
\end{align}
\]</span> Note: It makes sense avoid parameter combinations where simultaneously <code>K1 = K2</code>, <code>r1 = r2</code>, and <code>alpha = beta</code>, since under such <em>complete symmetry</em> the two species are perfectly neutral with respect to each other. Let us therefore ignore this extremely special case.</p></li>
<li><p>Allow the two carrying capacities to differ from each other, for instance, <code>K1 &lt; K2</code>. Does this alter your previous results? If yes, how?</p></li>
<li><p>The fact that the single-species logistic equation allows for overshooting and complicated population dynamical cycles when <em>r&gt;2</em> carries over to the LV-competition model in discrete time (note, that this is not possible in the continuous time versions of both these models). Investigate this possibility for the special case that the intrinsic growth rates and carrying capacities of both species are equal to each other, <code>r1 = r2</code> and and <code>K1 = K2</code> (but not <code>alpha</code> and <code>beta</code>). What happens if both growth rates are close to 2 but slightly less and what happens if you increase both growth rates slightly above 2? You could combine this investigation with the different configurations that the competition competition coefficients can take as listed under (1).</p></li>
</ol>
<p>You can investigate these questions, by re-using the code from the previous tab, change the parameters as needed, store the time series in different data frame that you can then use to plot the dynamics.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
